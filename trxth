local player = game.Players.LocalPlayer
local speed = 1  -- Updated speed
local infiniteJumpEnabled = false
local jumping = false





-- Function to create and initialize the GUI
local function createGUI()
    -- Check if a GUI already exists and delete it
    if player.PlayerGui:FindFirstChild("SkibidiSigma") then
        player.PlayerGui.SkibidiSigma:Destroy()
    end

    -- Create new GUI
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "SkibidiSigma"  -- Ensure it has a name for easier detection
    ScreenGui.Parent = player.PlayerGui
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    local WindowFrame = Instance.new("Frame")
    WindowFrame.Parent = ScreenGui
    WindowFrame.Size = UDim2.new(0, 300, 0, 500)
    WindowFrame.Position = UDim2.new(0, 50, 0, 50)
    WindowFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    WindowFrame.BorderSizePixel = 2
    WindowFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
	WindowFrame.Visible = false

	local UICorner = Instance.new("UICorner")
	UICorner.CornerRadius = UDim.new(0, 12) -- You can change 12 to any value you want for more or less rounding
	UICorner.Parent = WindowFrame




    local gradient = Instance.new("UIGradient")
    gradient.Parent = WindowFrame
    gradient.Rotation = -5 -- We'll animate this later

    -- Stronger color blending
    gradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 255)),    -- Blue at start
        ColorSequenceKeypoint.new(0.25, Color3.fromRGB(0, 255, 255)), -- Cyan
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 0)),   -- Green
        ColorSequenceKeypoint.new(0.75, Color3.fromRGB(255, 255, 0)), -- Yellow
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0))     -- Red at end
    })

    -- Create a loop to animate the Rotation
    task.spawn(function()
        while true do
            for rotation = 0, 360, 1 do
                gradient.Rotation = rotation
                task.wait(0.01) -- Speed of rotation (lower = faster)
            end
        end
    end)


    local UItop = Instance.new("TextLabel")
    UItop.Parent = WindowFrame
    UItop.Size = UDim2.new(0, 300, 0, 30)
    UItop.Position = UDim2.new(0, 0, 0, 0)
    UItop.Text = "Admin GUI"
    UItop.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    UItop.TextColor3 = Color3.fromRGB(255, 255, 255)
    UItop.Font = Enum.Font.SourceSans
    UItop.TextSize = 20
    UItop.TextXAlignment = Enum.TextXAlignment.Center






	local Players = game:GetService("Players")
	local player = Players.LocalPlayer

	local resetButton = Instance.new("TextButton")
	resetButton.Parent = WindowFrame  -- replace WindowFrame with your frame
	resetButton.Size = UDim2.new(0, 125, 0, 30)
	resetButton.Position = UDim2.new(0, 25, 0, 210)
	resetButton.BackgroundColor3 = Color3.fromRGB(68, 142, 228)
	resetButton.Text = "Reset Character"
	resetButton.TextColor3 = Color3.new(0, 0, 0)
	resetButton.Font = Enum.Font.SourceSans
	resetButton.TextSize = 18

	resetButton.MouseButton1Click:Connect(function()
		if player.Character and player.Character:FindFirstChild("Humanoid") then
			player.Character.Humanoid.Health = 0
		end
	end)





	local serverHopButton = Instance.new("TextButton")
	serverHopButton.Size = UDim2.new(0, 125, 0, 30)
	serverHopButton.Position = UDim2.new(0, 150, 0, 360)
	serverHopButton.Text = "Server Hop"
	serverHopButton.Parent = WindowFrame

	serverHopButton.MouseButton1Click:Connect(function()
    	local placeId = game.PlaceId
    	local jobId = game.JobId
    
    	game:GetService("TeleportService"):TeleportToPlaceInstance(placeId, jobId, game.Players.LocalPlayer)
	end)


	local vcunban = Instance.new("TextButton")
	vcunban.Size = UDim2.new(0, 125, 0, 30)
	vcunban.Position = UDim2.new(0, 25, 0, 250)
	vcunban.BackgroundColor3 = Color3.fromRGB(68, 142, 228)
	vcunban.Text = "Unban VC"
	vcunban.Parent = WindowFrame
	vcunban.TextColor3 = Color3.new(0, 0, 0)
	vcunban.Font = Enum.Font.SourceSans
	vcunban.TextSize = 18

	vcunban.MouseButton1Click:Connect(function()
		game:GetService("VoiceChatService"):joinVoice()	
	end)



	local rejoinButton = Instance.new("TextButton")
	rejoinButton.Size = UDim2.new(0, 125, 0, 30)
	rejoinButton.Position = UDim2.new(0, 25, 0, 360)
	rejoinButton.Text = "Rejoin"
	rejoinButton.Parent = WindowFrame

	rejoinButton.MouseButton1Click:Connect(function()
    	game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, game.JobId)
	end)

    -- Speed Display
    local SpeedLabel = Instance.new("TextLabel")
    SpeedLabel.Parent = WindowFrame
    SpeedLabel.Size = UDim2.new(0, 125, 0, 20)
    SpeedLabel.Position = UDim2.new(0, 25, 0, 100)
    SpeedLabel.Text = "Fly Speed: " .. speed
    SpeedLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    SpeedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    SpeedLabel.Font = Enum.Font.SourceSans
    SpeedLabel.TextSize = 18
    SpeedLabel.TextXAlignment = Enum.TextXAlignment.Center

    -- Speed Controls (Buttons + / -)
    local IncreaseSpeedButton = Instance.new("TextButton")
    IncreaseSpeedButton.Parent = WindowFrame
    IncreaseSpeedButton.Size = UDim2.new(0, 50, 0, 25)
    IncreaseSpeedButton.Position = UDim2.new(0, 35, 0, 70)
    IncreaseSpeedButton.Text = "+"
    IncreaseSpeedButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    IncreaseSpeedButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    IncreaseSpeedButton.Font = Enum.Font.SourceSans
    IncreaseSpeedButton.TextSize = 20

    local DecreaseSpeedButton = Instance.new("TextButton")
    DecreaseSpeedButton.Parent = WindowFrame
    DecreaseSpeedButton.Size = UDim2.new(0, 50, 0, 25)
    DecreaseSpeedButton.Position = UDim2.new(0, 90, 0, 70)
    DecreaseSpeedButton.Text = "-"
    DecreaseSpeedButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    DecreaseSpeedButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    DecreaseSpeedButton.Font = Enum.Font.SourceSans
    DecreaseSpeedButton.TextSize = 20

    IncreaseSpeedButton.MouseButton1Click:Connect(function()
        speed = speed + 1
        SpeedLabel.Text = "Speed: " .. speed
    end)

    DecreaseSpeedButton.MouseButton1Click:Connect(function()
        if speed > 1 then
            speed = speed - 1
            SpeedLabel.Text = "Speed: " .. speed
        end
    end)

    -- Fly functionality
    local FLYING = false
    local CONTROL = {F = 0, B = 0, L = 0, R = 0, Q = 0, E = 0}
    local fly_velocity, bodygyro
    local runservice = game:GetService("RunService")
    local IYMouse = player:GetMouse()

    local function getRoot(char)
        return char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso")
    end

    local function startFlying()
        if FLYING then return end
        FLYING = true
        local T = getRoot(player.Character)

        fly_velocity = Instance.new("BodyVelocity")
        fly_velocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
        fly_velocity.Velocity = Vector3.zero
        fly_velocity.P = 1250
        fly_velocity.Parent = T

        bodygyro = Instance.new("BodyGyro")
        bodygyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
        bodygyro.P = 300000
        bodygyro.CFrame = workspace.CurrentCamera.CFrame
        bodygyro.Parent = T

        runservice.Heartbeat:Connect(function()
            if FLYING then
                local camera = workspace.CurrentCamera
                local forward = camera.CFrame.LookVector * (CONTROL.F + CONTROL.B)
                local right = camera.CFrame.RightVector * (CONTROL.L + CONTROL.R)
                local up = Vector3.new(0, CONTROL.Q + CONTROL.E, 0)
                local moveDirection = forward + right + up

                fly_velocity.Velocity = moveDirection * speed * 5
                bodygyro.CFrame = CFrame.new(T.Position, T.Position + camera.CFrame.LookVector)
            else
                fly_velocity.Velocity = Vector3.zero
            end
        end)
    end

    local function stopFlying()
        FLYING = false
        if fly_velocity then
            fly_velocity:Destroy()
            fly_velocity = nil
        end
        if bodygyro then
            bodygyro:Destroy()
            bodygyro = nil
        end
    end

    -- Fly Button
    local FlyButton = Instance.new("TextButton")
    FlyButton.Parent = WindowFrame
    FlyButton.Size = UDim2.new(0, 125, 0, 30)
    FlyButton.Position = UDim2.new(0, 25, 0, 33)
    FlyButton.Text = "Fly Off"
    FlyButton.BackgroundColor3 = Color3.fromRGB(68, 142, 228)
    FlyButton.TextColor3 = Color3.fromRGB(0, 0, 0)
    FlyButton.Font = Enum.Font.SourceSans
    FlyButton.TextSize = 18

    FlyButton.MouseButton1Click:Connect(function()
        if FLYING then
            stopFlying()
            FlyButton.Text = "Fly Off"
        else
            startFlying()
            FlyButton.Text = "Fly On"
        end
    end)

	local RunService = game:GetService("RunService")
	local Players = game:GetService("Players")

	local noclipEnabled = false
	local noclipConnection

	local function enableNoclip()
	    if noclipConnection then return end
	    noclipConnection = RunService.Stepped:Connect(function(_, dt)
	        local character = Players.LocalPlayer.Character
    	    if character then
                -- Check each part in the character and disable collision
            	for _, part in pairs(character:GetDescendants()) do
            	    if part:IsA("BasePart") then
                	    -- Disable collision on all parts (to simulate noclip)
                    	part.CanCollide = false
                	end
            	end
        	end
    	end)
	end

	local function disableNoclip()
    	if noclipConnection then
        	noclipConnection:Disconnect()
        	noclipConnection = nil
    	end

    	local character = Players.LocalPlayer.Character
    	if character then
        	for _, part in pairs(character:GetDescendants()) do
            	if part:IsA("BasePart") then
                	part.CanCollide = true
            	end
        	end
        
        	local humanoid = character:FindFirstChild("Humanoid")
        	if humanoid then
            	humanoid.PlatformStand = false  -- Disable platform standing (can cause jittering when noclip is off)
        	end
    	end
	end

	local noclipButton = Instance.new("TextButton")
	noclipButton.Parent = WindowFrame
	noclipButton.Size = UDim2.new(0, 125, 0, 30)
	noclipButton.Position = UDim2.new(0, 25, 0, 290)
	noclipButton.Text = "Noclip"
	noclipButton.BackgroundColor3 = Color3.fromRGB(68, 142, 228)
	noclipButton.TextColor3 = Color3.fromRGB(0, 0, 0)
	noclipButton.Font = Enum.Font.SourceSans
	noclipButton.TextSize = 18

	noclipButton.MouseButton1Click:Connect(function()
    	if noclipEnabled then
        	disableNoclip()
        	noclipButton.Text = "Noclip Off"
    	else
        	enableNoclip()
        	noclipButton.Text = "Noclip On"
    	end
    	noclipEnabled = not noclipEnabled
	end)


    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")

    local player = Players.LocalPlayer
    local camera = workspace.CurrentCamera

    task.spawn(function()
        while true do
            local totalTime = 900 -- 15 minutes in seconds
            local timeLeft = totalTime

            while timeLeft > 0 do
                task.wait(60) -- wait 60 seconds
                timeLeft = timeLeft - 60
                print("Anti-AFK activates in " .. math.ceil(timeLeft / 60) .. " minutes")
            end

            if camera then
                local currentCFrame = camera.CFrame
                camera.CFrame = currentCFrame * CFrame.Angles(0, math.rad(1), 0)
                task.wait(0.1)
                camera.CFrame = currentCFrame
            end
        end
    end)


	local Players = game:GetService("Players")

	local nametagsEnabled = false
	local characterConnections = {}

	-- Function to create nametag
	local function addNametag(player)
		local character = player.Character or player.CharacterAdded:Wait()
		local head = character:WaitForChild("Head", 5)

		if head and not head:FindFirstChild("NametagBillboard") then
			local billboard = Instance.new("BillboardGui")
			billboard.Name = "NametagBillboard"
			billboard.Adornee = head
			billboard.Size = UDim2.new(0, 200, 0, 50) -- Fixed size
			billboard.StudsOffset = Vector3.new(0, 2, 0)
			billboard.AlwaysOnTop = true
			billboard.LightInfluence = 0
			billboard.MaxDistance = 500 -- Optional: limit range
			billboard.Parent = head

			local textLabel = Instance.new("TextLabel")
			textLabel.Size = UDim2.new(1, 0, 1, 0)
			textLabel.BackgroundTransparency = 1
			textLabel.Text = player.Name
			textLabel.TextScaled = true
			textLabel.TextColor3 = Color3.new(1, 1, 1)
			textLabel.Font = Enum.Font.GothamBold
			textLabel.Parent = billboard
		end
	end

	-- Function to remove nametag
	local function removeNametag(player)
		if player.Character then
			local head = player.Character:FindFirstChild("Head")
			if head and head:FindFirstChild("NametagBillboard") then
				head.NametagBillboard:Destroy()
			end
		end
	end

	-- Enable nametags
	local function enableNametags()
		for _, player in ipairs(Players:GetPlayers()) do
			if player.Character then
				addNametag(player)
			end
			local conn = player.CharacterAdded:Connect(function()
				addNametag(player)
			end)
			characterConnections[player] = conn
		end

		Players.PlayerAdded:Connect(function(player)
			local conn = player.CharacterAdded:Connect(function()
				if nametagsEnabled then
					addNametag(player)
				end
			end)
			characterConnections[player] = conn
		end)
	end

	-- Disable nametags
	local function disableNametags()
		for _, player in ipairs(Players:GetPlayers()) do
			removeNametag(player)
			if characterConnections[player] then
				characterConnections[player]:Disconnect()
				characterConnections[player] = nil
			end
		end
	end

	-- Create Button
	local NametagButton = Instance.new("TextButton")
	NametagButton.Parent = WindowFrame -- << replace with your frame
	NametagButton.Size = UDim2.new(0, 125, 0, 30)
	NametagButton.Position = UDim2.new(0, 25, 0, 170)
	NametagButton.BackgroundColor3 = Color3.fromRGB(68, 142, 228)
	NametagButton.Text = "Toggle Nametag ESP"
	NametagButton.TextColor3 = Color3.new(0, 0, 0)
	NametagButton.Font = Enum.Font.SourceSans
	NametagButton.TextSize = 18

	NametagButton.MouseButton1Click:Connect(function()
		nametagsEnabled = not nametagsEnabled

		if nametagsEnabled then
			enableNametags()
			NametagButton.Text = "Toggle Nametag ESP"
		else
			disableNametags()
			NametagButton.Text = "Toggle Nametag ESP"
		end
	end)






	local Players = game:GetService("Players")
	local player = Players.LocalPlayer
	local savedPosition = nil

	-- GUI setup (assumes you already have a GUI like WindowFrame)
	local SetPositionButton = Instance.new("TextButton")
	SetPositionButton.Size = UDim2.new(0, 120, 0, 30)
	SetPositionButton.Position = UDim2.new(0, 155, 0, 130)
	SetPositionButton.BackgroundColor3 = Color3.fromRGB(68, 142, 228)
	SetPositionButton.Text = "Set Position"
	SetPositionButton.TextColor3 = Color3.new(0, 0, 0)
	SetPositionButton.Font = Enum.Font.SourceSans
	SetPositionButton.TextSize = 18
	SetPositionButton.Parent = WindowFrame

	local TeleportButton = Instance.new("TextButton")
	TeleportButton.Size = UDim2.new(0, 120, 0, 30)
	TeleportButton.Position = UDim2.new(0, 155, 0, 170)
	TeleportButton.BackgroundColor3 = Color3.fromRGB(68, 142, 228)
	TeleportButton.Text = "Teleport to Position"
	TeleportButton.TextColor3 = Color3.new(0, 0, 0)
	TeleportButton.Font = Enum.Font.SourceSans
	TeleportButton.TextSize = 18
	TeleportButton.Parent = WindowFrame

	-- Button logic
	SetPositionButton.MouseButton1Click:Connect(function()
		local character = player.Character
		if character and character:FindFirstChild("HumanoidRootPart") then
			savedPosition = character.HumanoidRootPart.Position
			SetPositionButton.Text = "Position Saved!"
			wait(1)
			SetPositionButton.Text = "Set Position"
		end
	end)

	TeleportButton.MouseButton1Click:Connect(function()
		local character = player.Character
		if character and character:FindFirstChild("HumanoidRootPart") and savedPosition then
			character:MoveTo(savedPosition)
			TeleportButton.Text = "Teleported!"
			wait(1)
			TeleportButton.Text = "Teleport to Position"
		end
	end)



    -- Minimize Logic
    local minimizeButton = Instance.new("TextButton")
    minimizeButton.Parent = ScreenGui
    minimizeButton.Size = UDim2.new(0, 100, 0, 30)
    minimizeButton.Position = UDim2.new(0, 680, 0, -30)  -- Place it at the top-left of the screen
    minimizeButton.Text = "Admin GUI"
    minimizeButton.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
    minimizeButton.TextColor3 = Color3.fromRGB(0, 0, 0)
    minimizeButton.Font = Enum.Font.SourceSans
    minimizeButton.TextSize = 20

	minimizeButton.MouseButton1Click:Connect(function()
    	if WindowFrame.Visible then
        	WindowFrame.Visible = false  -- Hide the window
    	else
        	WindowFrame.Visible = true  -- Show the window again
    	end
	end)

	local SliderFrame = Instance.new("Frame")
	SliderFrame.Parent = WindowFrame
	SliderFrame.Size = UDim2.new(0, 250, 0, 30)
	SliderFrame.Position = UDim2.new(0, 25, 0, 400)
	SliderFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	SliderFrame.BorderSizePixel = 1
	SliderFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)

	local SliderTrack = Instance.new("Frame")
	SliderTrack.Parent = SliderFrame
	SliderTrack.Size = UDim2.new(1, -20, 0, 5)
	SliderTrack.Position = UDim2.new(0, 10, 0, 12)
	SliderTrack.BackgroundColor3 = Color3.fromRGB(200, 200, 200)

	local SliderHandle = Instance.new("TextButton")
	SliderHandle.Parent = SliderFrame
	SliderHandle.Size = UDim2.new(0, 10, 0, 10)
	SliderHandle.Position = UDim2.new(0, 10, 0, 8)
	SliderHandle.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
	SliderHandle.Text = ""
	SliderHandle.TextColor3 = Color3.fromRGB(255, 255, 255)

	local SpeedDisplay = Instance.new("TextLabel")
	SpeedDisplay.Parent = WindowFrame
	SpeedDisplay.Size = UDim2.new(0, 250, 0, 30)
	SpeedDisplay.Position = UDim2.new(0, 25, 0, 425)
	SpeedDisplay.Text = "WalkSpeed: 16"
	SpeedDisplay.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	SpeedDisplay.TextColor3 = Color3.fromRGB(255, 255, 255)
	SpeedDisplay.Font = Enum.Font.SourceSans
	SpeedDisplay.TextSize = 20
	SpeedDisplay.TextXAlignment = Enum.TextXAlignment.Center

	-- Slider Logic
	local function updateSpeed(value)
		local newSpeed = math.floor(value)
		local humanoid = game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		if humanoid then
			humanoid.WalkSpeed = newSpeed
		end
		SpeedDisplay.Text = "WalkSpeed: " .. newSpeed
	end

	-- Dragging logic for slider
	local dragging = false

	SliderHandle.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
		end
	end)

	SliderHandle.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = false
		end
	end)

	game:GetService("UserInputService").InputChanged:Connect(function(input)
		if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
			local mousePos = input.Position.X
			local sliderPos = SliderFrame.AbsolutePosition.X
			local sliderWidth = SliderFrame.AbsoluteSize.X - 20
			local newPos = math.clamp(mousePos - sliderPos, 0, sliderWidth)

			SliderHandle.Position = UDim2.new(0, newPos, 0, 8)

			-- Max WalkSpeed 100 (you can change this)
			local minSpeed = 16
			local maxSpeed = 100
			local value = minSpeed + ((newPos / sliderWidth) * (maxSpeed - minSpeed))
			updateSpeed(value)
		end
	end)



	local CreditsLabel = Instance.new("TextLabel")
	CreditsLabel.Parent = WindowFrame
	CreditsLabel.Size = UDim2.new(0, 300, 0, 30)
	CreditsLabel.Position = UDim2.new(0, 0, 0, 470)
	CreditsLabel.Text = "UI created by .trxth._ on Discord"
	CreditsLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	CreditsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	CreditsLabel.Font = Enum.Font.SourceSans
	CreditsLabel.TextSize = 16
	CreditsLabel.TextXAlignment = Enum.TextXAlignment.Center

	local AntiLabel = Instance.new("TextLabel")
	AntiLabel.Parent = WindowFrame
	AntiLabel.Size = UDim2.new(0, 250, 0, 20)
	AntiLabel.Position = UDim2.new(0, 25, 0, 330)
	AntiLabel.Text = "NOTE: Anti AFK Built Into the Script"
	AntiLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	AntiLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	AntiLabel.Font = Enum.Font.SourceSans
	AntiLabel.TextSize = 16
	AntiLabel.TextXAlignment = Enum.TextXAlignment.Center


	local KillButton = Instance.new("TextButton")
	KillButton.Parent = WindowFrame
	KillButton.Size = UDim2.new(0, 30, 0, 30)
	KillButton.Position = UDim2.new(0, 270, 0, 0)
	KillButton.Text = "X"
	KillButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
	KillButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	KillButton.Font = Enum.Font.SourceSans
	KillButton.TextSize = 20

	KillButton.MouseButton1Click:Connect(function()
    	ScreenGui:Destroy()
	end)

	KillButton.MouseButton1Click:Connect(function()
		ScreenGui1:Destroy()
	end)


	local UserInputService = game:GetService("UserInputService")
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer

    -- Infinite Jump Function
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if gameProcessed then return end

        -- Start jumping if Infinite Jump is enabled and Space is pressed
        if infiniteJumpEnabled and input.KeyCode == Enum.KeyCode.Space and not jumping then
            jumping = true
            local character = LocalPlayer.Character
            if character and character:FindFirstChild("Humanoid") then
                -- Continuously apply jumping state
                while infiniteJumpEnabled and jumping do
                    character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                    wait(0.000001)  -- Delay between jumps to simulate continuous jumping
                end
            end
        end
    end)

    -- Stop jumping when Space is released
    UserInputService.InputEnded:Connect(function(input)
        if input.KeyCode == Enum.KeyCode.Space then
            jumping = false
        end
    end)

    -- Infinite Jump Toggle Button
    local InfiniteJumpButton = Instance.new("TextButton")
    InfiniteJumpButton.Parent = WindowFrame
    InfiniteJumpButton.Size = UDim2.new(0, 125, 0, 30)
    InfiniteJumpButton.Position = UDim2.new(0, 25, 0, 130)
    InfiniteJumpButton.Text = "Infinite Jump Off"
    InfiniteJumpButton.BackgroundColor3 = Color3.fromRGB(68, 142, 228)
    InfiniteJumpButton.TextColor3 = Color3.fromRGB(0, 0, 0)
    InfiniteJumpButton.Font = Enum.Font.SourceSans
    InfiniteJumpButton.TextSize = 18

    InfiniteJumpButton.MouseButton1Click:Connect(function()
        infiniteJumpEnabled = not infiniteJumpEnabled
        if infiniteJumpEnabled then
            InfiniteJumpButton.Text = "Infinite Jump On"
        else
            InfiniteJumpButton.Text = "Infinite Jump Off"
        end
    end)


	


    -- Draggable GUI Code
    local dragging = false
    local dragInput, mousePos, framePos

    WindowFrame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragInput = input
            mousePos = input.Position
            framePos = WindowFrame.Position
        end
    end)

    WindowFrame.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)

    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - mousePos
            WindowFrame.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
        end
    end)



	local UICorner2 = Instance.new("UICorner")
	UICorner2.CornerRadius = UDim.new(0, 12) -- You can change 12 to any value you want for more or less rounding
	UICorner2.Parent = CreditsLabel

	local UICorner3 = Instance.new("UICorner")
	UICorner3.CornerRadius = UDim.new(0, 12) -- You can change 12 to any value you want for more or less rounding
	UICorner3.Parent = KillButton

	local UICorner4 = Instance.new("UICorner")
	UICorner4.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner4.Parent = InfiniteJumpButton

	local UICorner5 = Instance.new("UICorner")
	UICorner5.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner5.Parent = SliderFrame

	local UICorner6 = Instance.new("UICorner")
	UICorner6.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner6.Parent = minimizeButton

	local UICorner7 = Instance.new("UICorner")
	UICorner7.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner7.Parent = NametagButton

	local UICorner8 = Instance.new("UICorner")
	UICorner8.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner8.Parent = serverHopButton

	local UICorner9 = Instance.new("UICorner")
	UICorner9.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner9.Parent = rejoinButton	

	local UICorner10 = Instance.new("UICorner")
	UICorner10.CornerRadius = UDim.new(0, 12) -- You can change 12 to any value you want for more or less rounding
	UICorner10.Parent = UItop

	local UICorner11 = Instance.new("UICorner")
	UICorner11.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner11.Parent = resetButton

	local UICorner12 = Instance.new("UICorner")
	UICorner12.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner12.Parent = executeButton

	local UICorner14 = Instance.new("UICorner")
	UICorner14.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner14.Parent = vcunban

	local UICorner15 = Instance.new("UICorner")
	UICorner15.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner15.Parent = SpeedLabel

	local UICorner16 = Instance.new("UICorner")
	UICorner16.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner16.Parent = IncreaseSpeedButton

	local UICorner17 = Instance.new("UICorner")
	UICorner17.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner17.Parent = DecreaseSpeedButton

	local UICorner18 = Instance.new("UICorner")
	UICorner18.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner18.Parent = FlyButton

	local UICorner19 = Instance.new("UICorner")
	UICorner19.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner19.Parent = noclipButton

	local UICorner20 = Instance.new("UICorner")
	UICorner20.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner20.Parent = TeleportButton

	local UICorner21 = Instance.new("UICorner")
	UICorner21.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner21.Parent = SetPositionButton

	local gradient2 = Instance.new("UIGradient")
	gradient2.Parent = minimizeButton
	gradient2.Color = ColorSequence.new(Color3.fromRGB(0, 0, 255), Color3.fromRGB(255, 255, 0))
	gradient2.Rotation = 0


    -- Input for flying controls
    IYMouse.KeyDown:Connect(function(KEY)
        if KEY:lower() == "w" then CONTROL.F = speed end
        if KEY:lower() == "s" then CONTROL.B = -speed end
        if KEY:lower() == "a" then CONTROL.L = -speed end
        if KEY:lower() == "d" then CONTROL.R = speed end
    end)

    IYMouse.KeyUp:Connect(function(KEY)
        if KEY:lower() == "w" then CONTROL.F = 0 end
        if KEY:lower() == "s" then CONTROL.B = 0 end
        if KEY:lower() == "a" then CONTROL.L = 0 end
        if KEY:lower() == "d" then CONTROL.R = 0 end
    end)
end

-- Call the function to create the GUI
createGUI()

local function createGUI1()

	if player.PlayerGui:FindFirstChild("SkibidiSigma2") then
        player.PlayerGui.SkibidiSigma2:Destroy()
    end

    -- Create new GUI
    local ScreenGui2 = Instance.new("ScreenGui")
    ScreenGui2.Name = "SkibidiSigma2"  -- Ensure it has a name for easier detection
    ScreenGui2.Parent = player.PlayerGui
    ScreenGui2.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    local WindowFrame2 = Instance.new("Frame")
    WindowFrame2.Parent = ScreenGui2
    WindowFrame2.Size = UDim2.new(0, 300, 0, 500)
    WindowFrame2.Position = UDim2.new(0, 50, 0, 50)
    WindowFrame2.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    WindowFrame2.BorderSizePixel = 2
    WindowFrame2.BorderColor3 = Color3.fromRGB(0, 0, 0)
	WindowFrame2.Visible = false

	local UICorner99 = Instance.new("UICorner")
	UICorner99.CornerRadius = UDim.new(0, 12) -- You can change 12 to any value you want for more or less rounding
	UICorner99.Parent = WindowFrame2




    local gradient99 = Instance.new("UIGradient")
    gradient99.Parent = WindowFrame2
    gradient99.Rotation = -5 -- We'll animate this later

    -- Stronger color blending
    gradient99.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 255)),    -- Blue at start
        ColorSequenceKeypoint.new(0.25, Color3.fromRGB(0, 255, 255)), -- Cyan
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 0)),   -- Green
        ColorSequenceKeypoint.new(0.75, Color3.fromRGB(255, 255, 0)), -- Yellow
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0))     -- Red at end
    })

    -- Create a loop to animate the Rotation
    task.spawn(function()
        while true do
            for rotation = 0, 360, 1 do
                gradient99.Rotation = rotation
                task.wait(0.01) -- Speed of rotation (lower = faster)
            end
        end
    end)


    local UItop99 = Instance.new("TextLabel")
    UItop99.Parent = WindowFrame2
    UItop99.Size = UDim2.new(0, 300, 0, 30)
    UItop99.Position = UDim2.new(0, 0, 0, 0)
    UItop99.Text = "Random stuff"
    UItop99.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    UItop99.TextColor3 = Color3.fromRGB(255, 255, 255)
    UItop99.Font = Enum.Font.SourceSans
    UItop99.TextSize = 20
    UItop99.TextXAlignment = Enum.TextXAlignment.Center

    local minimizeButton1 = Instance.new("TextButton")
    minimizeButton1.Parent = ScreenGui2
    minimizeButton1.Size = UDim2.new(0, 100, 0, 30)
    minimizeButton1.Position = UDim2.new(0, 790, 0, -30)  -- Place it at the top-left of the screen
    minimizeButton1.Text = "People Things"
    minimizeButton1.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
    minimizeButton1.TextColor3 = Color3.fromRGB(0, 0, 0)
    minimizeButton1.Font = Enum.Font.SourceSans
    minimizeButton1.TextSize = 20

	minimizeButton1.MouseButton1Click:Connect(function()
    	if WindowFrame2.Visible then
        	WindowFrame2.Visible = false  -- Hide the window
    	else
        	WindowFrame2.Visible = true  -- Show the window again
    	end
	end)
	

	local KillButton = Instance.new("TextButton")
	KillButton.Parent = WindowFrame2
	KillButton.Size = UDim2.new(0, 30, 0, 30)
	KillButton.Position = UDim2.new(0, 270, 0, 0)
	KillButton.Text = "X"
	KillButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
	KillButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	KillButton.Font = Enum.Font.SourceSans
	KillButton.TextSize = 20

	KillButton.MouseButton1Click:Connect(function()
		ScreenGui2:Destroy()
	end)

	local UICorner56 = Instance.new("UICorner")
	UICorner56.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner56.Parent = minimizeButton1

	local UICorner57 = Instance.new("UICorner")
	UICorner57.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner57.Parent = KillButton

	local UICorner58 = Instance.new("UICorner")
	UICorner58.CornerRadius = UDim.new(0, 6) -- You can change 12 to any value you want for more or less rounding
	UICorner58.Parent = UItop99

	local gradient20 = Instance.new("UIGradient")
	gradient20.Parent = minimizeButton1
	gradient20.Color = ColorSequence.new(Color3.fromRGB(0, 255, 0), Color3.fromRGB(0, 255, 255))
	gradient20.Rotation = 0


		local UsernameBox = Instance.new("TextBox")
		UsernameBox.Parent = WindowFrame2
		UsernameBox.Size = UDim2.new(0, 125, 0, 30)
		UsernameBox.Position = UDim2.new(0, 25, 0, 35)
		UsernameBox.PlaceholderText = "Username..."
		UsernameBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		UsernameBox.TextColor3 = Color3.fromRGB(255, 255, 255)
		UsernameBox.Font = Enum.Font.SourceSans
		UsernameBox.TextSize = 16

		local PiggybackButton = Instance.new("TextButton")
		PiggybackButton.Parent = WindowFrame2
		PiggybackButton.Size = UDim2.new(0, 50, 0, 30)
		PiggybackButton.Position = UDim2.new(0, 25, 0, 70)
		PiggybackButton.Text = ""
		PiggybackButton.BackgroundColor3 = Color3.fromRGB(0, 80, 0)
		PiggybackButton.TextColor3 = Color3.fromRGB(255, 255, 255)
		PiggybackButton.Font = Enum.Font.SourceSans
		PiggybackButton.TextSize = 16

		local DetachButton = Instance.new("TextButton")
		DetachButton.Parent = WindowFrame2
		DetachButton.Size = UDim2.new(0, 50, 0, 30)
		DetachButton.Position = UDim2.new(0, 100, 0, 70)
		DetachButton.Text = ""
		DetachButton.BackgroundColor3 = Color3.fromRGB(120, 50, 50)
		DetachButton.TextColor3 = Color3.fromRGB(255, 255, 255)
		DetachButton.Font = Enum.Font.SourceSans
		DetachButton.TextSize = 16

		-- UTILITIES
		local Players = game:GetService("Players")
		local Player = Players.LocalPlayer

		local function GetPlayerFromNameSnippet(snippet)
			snippet = snippet:lower()
			for _, plr in ipairs(Players:GetPlayers()) do
				if plr ~= Player then
					if plr.Name:lower():sub(1, #snippet) == snippet or plr.DisplayName:lower():sub(1, #snippet) == snippet then
						return plr
					end
				end
			end
		end

		local function GetCharacter(plr)
			return plr.Character or plr.CharacterAdded:Wait()
		end

		local function GetRoot(plr)
			local char = GetCharacter(plr)
			return char:WaitForChild("HumanoidRootPart")
		end

		local function GetHumanoid(plr)
			local char = GetCharacter(plr)
			return char:WaitForChild("Humanoid")
		end

		-- ATTACH FUNCTION
		local function AttachToPlayer(TargetUsername, AttachPart)
			if #TargetUsername < 1 then return end
			local Target = GetPlayerFromNameSnippet(TargetUsername)
			if not Target then return end

			local Part, AttachmentOffset

			if AttachPart == "Back" then
				Part = "HumanoidRootPart"
				AttachmentOffset = CFrame.new(0, 0, 1.25) * CFrame.Angles(0, -3, 0)
			elseif AttachPart == "Head" then
				Part = "Head"
				AttachmentOffset = CFrame.new(0, 0, 0.8)
			elseif AttachPart == "Front" then
				Part = "HumanoidRootPart"
				AttachmentOffset = CFrame.new(0, 0, -1.25)
			end

			local StopAttach = Player:FindFirstChild("StopAttach")
			if StopAttach then
				StopAttach:Destroy()
			end

			repeat
				pcall(function()
					local TargetCharacter = GetCharacter(Target)
					local Root = GetRoot(Player)
					Root.CFrame = TargetCharacter:FindFirstChild(Part).CFrame * AttachmentOffset
					Root.Velocity = Vector3.zero
					local Humanoid = GetHumanoid(Player)
					if not Humanoid.Sit then
						Humanoid.Sit = false
						task.wait(0.05)
						Humanoid.Sit = true
					end
				end)
				task.wait()
			until Player:FindFirstChild("StopAttach")
		end

		-- BUTTON HANDLERS
		PiggybackButton.MouseButton1Click:Connect(function()
			local username = UsernameBox.Text
			if username and username ~= "" then
				AttachToPlayer(username, "Head")
			end
		end)

		DetachButton.MouseButton1Click:Connect(function()
			local stopAttach = Instance.new("StringValue")
			stopAttach.Name = "StopAttach"
			stopAttach.Parent = Player
		end)

		local UsernameBox2 = Instance.new("TextBox")
		UsernameBox2.Parent = WindowFrame2
		UsernameBox2.Size = UDim2.new(0, 125, 0, 30)
		UsernameBox2.Position = UDim2.new(0, 25, 0, 140)
		UsernameBox2.PlaceholderText = "Username..."
		UsernameBox2.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		UsernameBox2.TextColor3 = Color3.fromRGB(255, 255, 255)
		UsernameBox2.Font = Enum.Font.SourceSans
		UsernameBox2.TextSize = 16

		local PiggybackButton2 = Instance.new("TextButton")
		PiggybackButton2.Parent = WindowFrame2
		PiggybackButton2.Size = UDim2.new(0, 50, 0, 30)
		PiggybackButton2.Position = UDim2.new(0, 25, 0, 180)
		PiggybackButton2.Text = ""
		PiggybackButton2.BackgroundColor3 = Color3.fromRGB(0, 80, 0)
		PiggybackButton2.TextColor3 = Color3.fromRGB(255, 255, 255)
		PiggybackButton2.Font = Enum.Font.SourceSans
		PiggybackButton2.TextSize = 16

		local DetachButton2 = Instance.new("TextButton")
		DetachButton2.Parent = WindowFrame2
		DetachButton2.Size = UDim2.new(0, 50, 0, 30)
		DetachButton2.Position = UDim2.new(0, 100, 0, 180)
		DetachButton2.Text = ""
		DetachButton2.BackgroundColor3 = Color3.fromRGB(120, 50, 50)
		DetachButton2.TextColor3 = Color3.fromRGB(255, 255, 255)
		DetachButton2.Font = Enum.Font.SourceSans
		DetachButton2.TextSize = 16

		-- UTILITIES
		local Players = game:GetService("Players")
		local Player = Players.LocalPlayer

		local function GetPlayerFromNameSnippet(snippet)
			snippet = snippet:lower()
			for _, plr in ipairs(Players:GetPlayers()) do
				if plr ~= Player then
					if plr.Name:lower():sub(1, #snippet) == snippet or plr.DisplayName:lower():sub(1, #snippet) == snippet then
						return plr
					end
				end
			end
		end

		local function GetCharacter(plr)
			return plr.Character or plr.CharacterAdded:Wait()
		end

		local function GetRoot(plr)
			local char = GetCharacter(plr)
			return char:WaitForChild("HumanoidRootPart")
		end

		local function GetHumanoid(plr)
			local char = GetCharacter(plr)
			return char:WaitForChild("Humanoid")
		end

		-- ATTACH FUNCTION
		local function AttachToPlayer2(TargetUsername, AttachPart)
			if #TargetUsername < 1 then return end
			local Target = GetPlayerFromNameSnippet(TargetUsername)
			if not Target then return end

			local Part, AttachmentOffset

			if AttachPart == "Back" then
				Part = "HumanoidRootPart"
				AttachmentOffset = CFrame.new(0, 0, 1.25) * CFrame.Angles(0, -3, 0)
			elseif AttachPart == "Head" then
				Part = "Head"
				AttachmentOffset = CFrame.new(0, 0, 0.8)
			elseif AttachPart == "Front" then
				Part = "HumanoidRootPart"
				AttachmentOffset = CFrame.new(0, 0, -0.7) * CFrame.Angles(0, -3, 0)
			end

			local StopAttach = Player:FindFirstChild("StopAttach")
			if StopAttach then
				StopAttach:Destroy()
			end

			repeat
				pcall(function()
					local TargetCharacter = GetCharacter(Target)
					local Root = GetRoot(Player)
					Root.CFrame = TargetCharacter:FindFirstChild(Part).CFrame * AttachmentOffset
					Root.Velocity = Vector3.zero
					local Humanoid = GetHumanoid(Player)
					if not Humanoid.Sit then
						Humanoid.Sit = false
						task.wait(0.05)
						Humanoid.Sit = true
					end
				end)
				task.wait()
			until Player:FindFirstChild("StopAttach")
		end

		-- BUTTON HANDLERS
		PiggybackButton2.MouseButton1Click:Connect(function()
			local username2 = UsernameBox2.Text
			if username2 and username2 ~= "" then
				AttachToPlayer2(username2, "Front")
			end
		end)

		DetachButton2.MouseButton1Click:Connect(function()
			local stopAttach = Instance.new("StringValue")
			stopAttach.Name = "StopAttach"
			stopAttach.Parent = Player
		end)

		local UsernameBox3 = Instance.new("TextBox")
		UsernameBox3.Parent = WindowFrame2
		UsernameBox3.Size = UDim2.new(0, 125, 0, 30)
		UsernameBox3.Position = UDim2.new(0, 25, 0, 220)
		UsernameBox3.PlaceholderText = "Username..."
		UsernameBox3.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		UsernameBox3.TextColor3 = Color3.fromRGB(255, 255, 255)
		UsernameBox3.Font = Enum.Font.SourceSans
		UsernameBox3.TextSize = 16

		local PiggybackButton3 = Instance.new("TextButton")
		PiggybackButton3.Parent = WindowFrame2
		PiggybackButton3.Size = UDim2.new(0, 50, 0, 30)
		PiggybackButton3.Position = UDim2.new(0, 25, 0, 260)
		PiggybackButton3.Text = ""
		PiggybackButton3.BackgroundColor3 = Color3.fromRGB(0, 80, 0)
		PiggybackButton3.TextColor3 = Color3.fromRGB(255, 255, 255)
		PiggybackButton3.Font = Enum.Font.SourceSans
		PiggybackButton3.TextSize = 16

		local DetachButton3 = Instance.new("TextButton")
		DetachButton3.Parent = WindowFrame2
		DetachButton3.Size = UDim2.new(0, 50, 0, 30)
		DetachButton3.Position = UDim2.new(0, 100, 0, 260)
		DetachButton3.Text = ""
		DetachButton3.BackgroundColor3 = Color3.fromRGB(120, 50, 50)
		DetachButton3.TextColor3 = Color3.fromRGB(255, 255, 255)
		DetachButton3.Font = Enum.Font.SourceSans
		DetachButton3.TextSize = 16

		-- UTILITIES
		local Players = game:GetService("Players")
		local Player = Players.LocalPlayer

		local function GetPlayerFromNameSnippet(snippet)
			snippet = snippet:lower()
			for _, plr in ipairs(Players:GetPlayers()) do
				if plr ~= Player then
					if plr.Name:lower():sub(1, #snippet) == snippet or plr.DisplayName:lower():sub(1, #snippet) == snippet then
						return plr
					end
				end
			end
		end

		local function GetCharacter(plr)
			return plr.Character or plr.CharacterAdded:Wait()
		end

		local function GetRoot(plr)
			local char = GetCharacter(plr)
			return char:WaitForChild("HumanoidRootPart")
		end

		local function GetHumanoid(plr)
			local char = GetCharacter(plr)
			return char:WaitForChild("Humanoid")
		end

		-- ATTACH FUNCTION
		local function AttachToPlayer3(TargetUsername, AttachPart)
			if #TargetUsername < 1 then return end
			local Target = GetPlayerFromNameSnippet(TargetUsername)
			if not Target then return end

			local Part, AttachmentOffset

			if AttachPart == "Back" then
				Part = "HumanoidRootPart"
				AttachmentOffset = CFrame.new(0, 0, 1.25) * CFrame.Angles(0, -3, 0)
			elseif AttachPart == "Head" then
				Part = "Head"
				AttachmentOffset = CFrame.new(0, 0, 0.8)
			elseif AttachPart == "Front" then
				Part = "HumanoidRootPart"
				AttachmentOffset = CFrame.new(0, 0, -0.7) * CFrame.Angles(0, -3, 0)
			end

			local StopAttach = Player:FindFirstChild("StopAttach")
			if StopAttach then
				StopAttach:Destroy()
			end

			repeat
				pcall(function()
					local TargetCharacter = GetCharacter(Target)
					local Root = GetRoot(Player)
					Root.CFrame = TargetCharacter:FindFirstChild(Part).CFrame * AttachmentOffset
					Root.Velocity = Vector3.zero
					local Humanoid = GetHumanoid(Player)
					if not Humanoid.Sit then
						Humanoid.Sit = false
						task.wait(0.05)
						Humanoid.Sit = true
					end
				end)
				task.wait()
			until Player:FindFirstChild("StopAttach")
		end

		-- BUTTON HANDLERS
		PiggybackButton3.MouseButton1Click:Connect(function()
			local username3 = UsernameBox3.Text
			if username3 and username3 ~= "" then
				AttachToPlayer3(username3, "Back")
			end
		end)

		DetachButton3.MouseButton1Click:Connect(function()
			local stopAttach = Instance.new("StringValue")
			stopAttach.Name = "StopAttach"
			stopAttach.Parent = Player
		end)


		local flingButton = Instance.new("TextButton")
		flingButton.Parent = WindowFrame2
		flingButton.Size = UDim2.new(0, 200, 0, 30)
		flingButton.Position = UDim2.new(0, 0, 0, 590)
		flingButton.Text = "FLING!"
		flingButton.BackgroundColor3 = Color3.fromRGB(255, 100, 0)
		flingButton.TextColor3 = Color3.fromRGB(255, 255, 255)
		flingButton.Font = Enum.Font.SourceSansBold
		flingButton.TextSize = 18

		local UICornerFling = Instance.new("UICorner")
		UICornerFling.CornerRadius = UDim.new(0, 8)
		UICornerFling.Parent = flingButton

		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		flingButton.MouseButton1Click:Connect(function()
			local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
			local hrp = character:FindFirstChild("HumanoidRootPart")
			if not hrp then return end

			-- Save original position
			local originalPosition = hrp.Position

			-- Lock in place
			local bp = Instance.new("BodyPosition")
			bp.Position = hrp.Position
			bp.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
			bp.P = 100000
			bp.D = 1000
			bp.Name = "LockPosition"
			bp.Parent = hrp

			-- Spin fast
			local bav = Instance.new("BodyAngularVelocity")
			bav.AngularVelocity = Vector3.new(0, 99999, 0)
			bav.MaxTorque = Vector3.new(0, math.huge, 0)
			bav.P = 125000
			bav.Name = "SpinFling"
			bav.Parent = hrp

			-- Fling duration
			task.delay(3, function()
				if bav then bav:Destroy() end
				if bp then bp:Destroy() end
				task.wait(1) -- Wait to let forces settle

				-- Return to original position
				hrp.CFrame = CFrame.new(originalPosition)
				hrp.Velocity = Vector3.zero
			end)
		end)



	local dragging = false
    local dragInput, mousePos, framePos

    WindowFrame2.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragInput = input
            mousePos = input.Position
            framePos = WindowFrame2.Position
        end
    end)

    WindowFrame2.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)

    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - mousePos
            WindowFrame2.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
        end
    end)




	end
createGUI1()
